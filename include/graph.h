/* * Small/include/graph.h *  * (C) 2012-2013 Yafei Zheng <e9999e@163.com> */
#ifndef _GRAPH_H_#define _GRAPH_H_#include "types.h"/********************************************************************/
/* Vbe Mode Info Block */typedef struct {	/* Mandatory information for all VBE revisions */	unsigned short  mode_attributes;		/* 0 */	unsigned char   wina_attributes;		/* 2 */	unsigned char   winb_attributes;		/* 3 */	unsigned short  win_granularity;		/* 4 */	unsigned short  win_size;				/* 6 */	unsigned short  wina_segment;			/* 8 */	unsigned short  winb_segment;			/* 10 */	unsigned long   win_func_ptr;			/* 12 */	unsigned short  bytes_per_scan_line;	/* 16 */	/* Mandatory information for VBE 1.2 and above */	unsigned short  xresolution;			/* 18 */	unsigned short  yresolution;			/* 20 */	unsigned char   xchar_size;				/* 22 */	unsigned char   ychar_size;				/* 23 */	unsigned char   number_of_planes;		/* 24 */	unsigned char   bits_per_pixel;			/* 25 */	unsigned char   number_of_banks;		/* 26 */	unsigned char   memory_model;			/* 27 */	unsigned char   bank_size;				/* 28 */	unsigned char   number_of_image_pages;	/* 29 */	unsigned char   reserved1;				/* 30 */ 	/* Direct Color fields (required for direct/6 and YUV/7 memory models) */	unsigned char   red_mask_size;			/* 31 */	unsigned char   red_field_position;		/* 32 */	unsigned char   green_mask_size;		/* 33 */	unsigned char   green_field_position;	/* 34 */	unsigned char   blue_mask_size;			/* 35 */	unsigned char   blue_field_position;	/* 36 */	unsigned char   rsvd_mask_size;			/* 37 */	unsigned char   rsvd_field_positon;		/* 38 */	unsigned char   direct_color_mode_info;	/* 39 */ 	/* Mandatory information for VBE 2.0 and above */	unsigned long   phys_base_ptr;			/* 40 */	unsigned long   reserved2;				/* 44 */	unsigned short  reserved3;				/* 48 */ 	/* Mandatory information for VBE 3.0 and above */	unsigned short  lin_bytes_per_scan_line;	/* 50 */	unsigned char   bnk_number_of_image_pages;	/* 52 */	unsigned char   lin_number_of_image_pages;	/* 53 */	unsigned char   lin_red_mask_size;		/* 54 */	unsigned char   lin_red_field_position;	/* 55 */	unsigned char   lin_green_mask_size;	/* 56 */	unsigned char   lin_green_field_position;	/* 57 */	unsigned char   lin_blue_mask_size;		/* 58 */	unsigned char   lin_blue_field_position;/* 59 */	unsigned char   lin_rsvd_mask_size;		/* 60 */	unsigned char   lin_rsvd_field_position;/* 61 */	unsigned long   max_pixel_color;		/* 62 */	unsigned char   reserved4[189];			/* 66 */ } VbeModeInfoBlock;/********************************************************************/extern unsigned short rgb_to_565color(unsigned char R, unsigned char G, unsigned char B);extern BOOL draw_point(unsigned int X, unsigned int Y, unsigned long color);extern BOOL draw_line(unsigned int Xstart, unsigned int Ystart, unsigned int Xend, unsigned int Yend, 				unsigned long color);extern BOOL draw_rect(unsigned int Xstart, unsigned int Ystart, unsigned int width, unsigned int height,				unsigned long color, unsigned char isFill);extern void graph_init(void);/********************************************************************/#endif	/* end of _GRAPH_H_ */